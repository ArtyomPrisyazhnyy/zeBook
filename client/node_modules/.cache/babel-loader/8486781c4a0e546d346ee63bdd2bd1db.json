{"ast":null,"code":"var _jsxFileName = \"D:\\\\bookStore\\\\client\\\\src\\\\pages\\\\Basket\\\\basket.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { cleanBasket, getBasket, removeFromBasket } from \"../../http/productsAPI\";\nimport { useNavigate } from \"react-router-dom\";\nimport { PRODUCTS_ROUTE } from \"../../utils/consts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Basket = props => {\n  _s();\n\n  const navigate = useNavigate();\n  const productsPage = props.productsPage;\n  const setBaskets = props.setBaskets;\n  useEffect(() => {\n    getBasket().then(data => {\n      setBaskets(data);\n    });\n  }, []);\n  let prices = 0;\n  {\n    productsPage.baskets.map(price => prices = parseFloat((prices + price.product.price).toFixed(10)));\n  }\n\n  const cleanAllBasket = () => {\n    cleanBasket().then(() => {\n      setBaskets([]);\n    });\n  };\n\n  const removeBasketItem = id => {\n    removeFromBasket(id).then(() => {\n      getBasket().then(data => {\n        setBaskets(data);\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"basketPage\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"basket_title\",\n        children: \"\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"total_basket\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"total_price\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0418\\u0442\\u043E\\u0433\\u043E: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), prices, \" BYN\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"clean_basket\",\n          onClick: cleanAllBasket,\n          children: \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"basket_list\",\n        children: productsPage.baskets.map(basketItem => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"basket_li\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"basket_item\",\n            onClick: () => navigate(PRODUCTS_ROUTE + '/' + basketItem.productId),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"basket_img\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: process.env.REACT_APP_API_URL + basketItem.product.image,\n                alt: \"/\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"basketItem__Inner\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"productNameBasket\",\n                children: basketItem.product.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"productsParam\",\n                children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"productsdesc\",\n                children: basketItem.writer.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"productsParam\",\n                children: \"\\u0416\\u0430\\u043D\\u0440\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"productsdesc\",\n                children: basketItem.genre.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"productsinfo\",\n                children: [\"\\u0413\\u043E\\u0434 \\u0438\\u0437\\u0434\\u0430\\u043D\\u0438\\u044F: \", basketItem.product.productionYear]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"productsinfo\",\n                children: [\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0438\\u0435\\u0441\\u0442\\u0432\\u043E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446: \", basketItem.product.pageCount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"productsinfo\",\n                children: [\"\\u0418\\u0437\\u0434\\u0430\\u0442\\u0435\\u043B\\u044C\\u0441\\u0442\\u0432\\u043E: \", basketItem.product.edition]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"price\",\n                children: [basketItem.product.price, \" BYN/\\u0428\\u0442\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"remove_btn\",\n            onClick: () => removeBasketItem(basketItem.productId),\n            children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this)]\n        }, basketItem.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Basket, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Basket;\nexport default Basket;\n\nvar _c;\n\n$RefreshReg$(_c, \"Basket\");","map":{"version":3,"sources":["D:/bookStore/client/src/pages/Basket/basket.jsx"],"names":["React","useEffect","cleanBasket","getBasket","removeFromBasket","useNavigate","PRODUCTS_ROUTE","Basket","props","navigate","productsPage","setBaskets","then","data","prices","baskets","map","price","parseFloat","product","toFixed","cleanAllBasket","removeBasketItem","id","basketItem","productId","process","env","REACT_APP_API_URL","image","title","writer","name","genre","productionYear","pageCount","edition"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { cleanBasket, getBasket, removeFromBasket } from \"../../http/productsAPI\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { PRODUCTS_ROUTE } from \"../../utils/consts\";\r\n\r\nconst Basket = (props) => {\r\n    const navigate = useNavigate();\r\n    const productsPage = props.productsPage;\r\n    const setBaskets = props.setBaskets;\r\n\r\n    useEffect(() => {\r\n        getBasket().then(data => {\r\n            setBaskets(data)\r\n        })\r\n    }, [])\r\n\r\n    let prices = 0;\r\n    {\r\n        productsPage.baskets.map(price =>\r\n\r\n            prices = parseFloat((prices + price.product.price).toFixed(10))\r\n        )\r\n    }\r\n\r\n    const cleanAllBasket = () => {\r\n        cleanBasket().then(() => {\r\n            setBaskets([])\r\n        })\r\n    }\r\n\r\n    const removeBasketItem = (id) => {\r\n        removeFromBasket(id).then(() => {\r\n            getBasket().then(data => {\r\n                setBaskets(data)\r\n            })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"basketPage\">\r\n            <div className=\"container\">\r\n                <div className=\"basket_title\">Корзина</div>\r\n\r\n                <div className=\"total_basket\" >\r\n                    <div className=\"total_price\">\r\n                        <span>Итого: </span>{prices} BYN\r\n                    </div>\r\n                    <div className=\"clean_basket\"\r\n                        onClick={cleanAllBasket}>\r\n                        Очистить корзину\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"basket_list\">\r\n                    {productsPage.baskets.map(basketItem =>\r\n                        <div key={basketItem.id} className=\"basket_li\">\r\n                            <div\r\n                                className=\"basket_item\"\r\n                                onClick={() => navigate(PRODUCTS_ROUTE + '/' + basketItem.productId)}>\r\n                                <div className=\"basket_img\">\r\n                                    <img\r\n                                        src={process.env.REACT_APP_API_URL + basketItem.product.image} alt=\"/\" />\r\n                                </div>\r\n\r\n                                <div className=\"basketItem__Inner\">\r\n                                    <div className=\"productNameBasket\">\r\n                                        {basketItem.product.title}\r\n                                    </div>\r\n\r\n\r\n                                    <div className=\"productsParam\">Автор</div>\r\n                                    <div className=\"productsdesc\">\r\n                                        {basketItem.writer.name}\r\n                                    </div>\r\n\r\n                                    <div className=\"productsParam\">Жанр</div>\r\n                                    <div className=\"productsdesc\">\r\n                                        {basketItem.genre.name}\r\n                                    </div>\r\n\r\n                                    <div className=\"productsinfo\">\r\n                                        Год издания: {basketItem.product.productionYear}\r\n                                    </div>\r\n\r\n                                    <div className=\"productsinfo\">\r\n                                        Количиество страниц: {basketItem.product.pageCount}\r\n                                    </div>\r\n\r\n                                    <div className=\"productsinfo\">\r\n                                        Издательство: {basketItem.product.edition}\r\n                                    </div>\r\n\r\n                                    <div className=\"price\">{basketItem.product.price} BYN/Шт</div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div\r\n                                className=\"remove_btn\"\r\n                                onClick={() => removeBasketItem(basketItem.productId)}\r\n                            >Удалить</div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Basket"]},"metadata":{},"sourceType":"module"}